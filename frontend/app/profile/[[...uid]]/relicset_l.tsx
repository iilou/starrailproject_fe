import Image from "next/image";
import { scoreSetLib, charSetIndex } from "../../lib/score";

interface RelicsetJSON {
  icon: string;
  name: string;
  num: number;
  desc: string;
  id: string;
}

export default function RelicsetL({
  relicsetJSON,
  charName,
}: {
  relicsetJSON: RelicsetJSON;
  charName: string;
}) {
  //   const charRelicSetData = `INFO	101|2	102|2	103|2	104|2	105|2	106|2	107|2	108|2	109|2	110|2	111|2	112|2	113|2	114|2	115|2	116|2	117|2	118|2	119|2	120|2	121|2	122|2	123|2	124|2	101|4	102|4	103|4	104|4	105|4	106|4	107|4	108|4	109|4	110|4	111|4	112|4	113|4	114|4	115|4	116|4	117|4	118|4	119|4	120|4	121|4	122|4	123|4	124|4	301|2	302|2	303|2	304|2	305|2	306|2	307|2	308|2	309|2	310|2	311|2	312|2	313|2	314|2	315|2	316|2	317|2	318|2	319|2	320|2
  // Seele	0	1.944444415	0	0	0	0	0	1.800397631	0	0	0	0	0	0.01615384615	0	1.944444415	1.62037037	0	0	1.944444415	0.01615384615	2.469135738	1.944444415	1.800397631	0	0	0	2.314814815	3.240740741	0	0.9020618557	8.504983391	0	0	0	3.086419753	1.234567901	2.153846154	0	0	1.804123711	0	0	1.851851852	0	3.608247423	0	0	3.888888889	0	0	0	2.469135802	3.822228586	0	0	4.273259514	0	4.650630011	0	2.469135802	1.944444444	0	1.615384615	0	2.469135802	0	1.615384615
  // Dan Heng \u2022 Imbibitor Lunae	0	1.944444415	0	0	0	0	0	0	0	0	0	1.800397631	0	0.01615384615	0	1.944444415	1.62037037	0	0	1.944444415	0.01615384615	2.469135738	1.944444415	0	0	0	0	2.314814815	3.240740741	0	0	6.334440753	0	0	0	4.166666667	2.469135802	2.153846154	0	0	1.804123711	0	0	1.851851852	0	0	0	6.172839506	3.888888889	0	0	0	2.469135802	2.469135802	0	0	6.077383225	0	1.944444444	0	2.469135802	1.944444444	0	1.615384615	0	2.469135802	0	1.615384615
  // The Herta	0	1.944444415	0	1.800397631	0	0	0	0	0	0	0	0	0	0.01615384615	0	1.944444415	1.62037037	0	0	1.944444415	0.01615384615	2.469135738	1.944444415	0	0	0	0	2.314814815	3.240740741	0	1.804123711	6.334440753	0	0	0	3.086419753	2.469135802	2.153846154	0	0	1.804123711	0	0	1.851851852	0	7.216494845	0	6.172839506	3.888888889	0	0	0	2.469135802	2.807408998	0	0	5.175321369	0	1.944444444	0	2.469135802	5.648148148	0	1.615384615	0	2.469135802	0	1.615384615
  // Feixiao	0	1.944444415	0	0	0	0	0	0	0	1.800397631	0	0	0	0.01615384615	0	1.944444415	1.62037037	0	0	1.944444415	0.01615384615	2.469135738	1.944444415	0	0	0	0	2.314814815	3.240740741	0	0	6.334440753	0	0	0	3.086419753	2.469135802	2.153846154	0	0	1.804123711	0	0	8.346697213	0	3.608247423	0	0	3.888888889	0	0	0	2.469135802	5.175321369	0	0	2.469135802	0	1.944444444	0	2.469135802	5.648148148	3.858024691	1.615384615	0	2.469135802	0	1.615384615
  // Firefly	0	1.944444415	0	0	0	0	0	0	0	0	2.469135738	0	0	0.02307692307	0	1.944444415	0	2.469135738	2.469135738	1.944444415	0.02307692307	0	1.944444415	0	0	0	0	0	3.240740741	0	0	6.334440753	0	0	2.469135738	0	0	2.307692308	0	0	0	0	11.62790698	0	0	0	0	0	3.888888889	0	0	0	0	0	5.555555556	0	0	0	1.944444444	0	0	1.944444444	0	8.480531814	0	0	0	2.307692308
  // Aglaea	0	1.944444415	0	0	0	0	0	0	0	1.800397631	0	0	0	0.01615384615	0	1.944444415	1.62037037	0	0	1.944444415	0.01615384615	2.469135738	1.944444415	0	0	0	0	2.314814815	3.240740741	0	0	6.334440753	0	0	0	3.086419753	2.469135802	2.153846154	0	0	1.804123711	0	0	1.851851852	0	0	6.245014245	0	0.6172839506	0	0	0	0.6172839506	0.6172839506	0	0	0.6172839506	0	0.6643757159	0	0.6172839506	2.561728395	0	1.615384615	0	2.469135802	0	1.615384615
  // Castorice	0	0	0	0	0	0	0	1.800397631	0	0	0	0	2.777777736	0	0	0	0	0	0	0	0	2.469135738	0	1.800397631	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	1.234567869	0	0	0	0	0	0	0	0	2.777777736	0	0	2.469135738	2.469135738	0	0	2.469135738	0	0	0	1.234567869	0	0	0	0	2.469135738	2.777777736	0
  // Acheron	0	1.944444415	0	0	0	0	0	0	1.800397631	0	0	0	0	0.01615384615	0	1.944444415	0	0	0	1.944444415	0.01615384615	2.469135738	1.944444415	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	1.234567869	0	0	0	0	0	0	-0.02153846153	1.944444415	0	0	0	2.469135738	2.469135738	0	0	2.469135738	0	1.944444415	0	1.234567869	1.944444415	0	0.01615384615	0	2.469135738	0	0.01615384615
  // Gallagher	2.893468285	0	0	0	0	0	0	0	0	0	2.469135738	0	2.777777736	0.02307692307	0	0	0	2.469135738	2.469135738	0	0.02307692307	0	0	0	0	0	0	0	0	0	0	0	0	0	2.469135738	0	0	0	0	0	0	0	0	0	0	0	0	-0.03076923076	0	2.777777736	0	0	0	0	2.469135738	2.572095847	0	0	0	2.572095847	0	0	0	0.02307692307	2.572095847	0	2.777777736	0.02307692307
  // Robin	0	2.777777736	0	0	0	0	0	0	0	0	0	0	0	0.02307692307	0	2.777777736	0	0	0	2.777777736	0.02307692307	0	2.777777736	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	-0.03076923076	2.777777736	0	0	0	0	0	0	2.572095847	0	0	2.777777736	2.572095847	0	2.777777736	0	0.02307692307	2.572095847	0	0	0.02307692307
  // Ruan Mei	0	0	0	0	0	0	0	0	0	0	2.469135738	0	0	0.02307692307	0	0	0	2.469135738	2.469135738	0	0.02307692307	0	0	0	0	0	0	0	0	0	0	0	0	0	2.469135738	0	0	0	0	0	0	0	0	0	0	0	0	-0.03076923076	0	0	0	0	0	0	2.469135738	2.572095847	0	0	0	2.572095847	0	0	0	0.02307692307	2.572095847	0	0	0.02307692307`;

  //   const charRelicSetIndex: { [key: string]: string[] } = {};
  //   charRelicSetData.split("\n").forEach((line: string) => {
  //     const lineSplit: string[] = line.split("\t");
  //     charRelicSetIndex[lineSplit[0]] = lineSplit;
  //   });

  return (
    <div className='flex justify-center items-center rounded-sm opacity-90 relative z-[90] gap-[4px] w-[500px] ml-[32px]'>
      <div className='text-y1 bg-[#3d3b8a] font-extrabold text-center flex items-center justify-center absolute text-[12px] rounded-lg top-[-6px] z-[99] left-[41px]'>
        <div className='w-full bg-[#020071c2] px-2 py-[1px] rounded-lg'>{`+${
          // charName in charRelicSetIndex ? parseFloat(charRelicSetIndex[charName][charRelicSetIndex["INFO"].indexOf(relicsetJSON["id"] + "|" + relicsetJSON["num"])]).toFixed(2) : 0
          charName in charSetIndex
            ? parseFloat(
                charSetIndex[charName][
                  charSetIndex["INFO"].indexOf(relicsetJSON["id"] + "|" + relicsetJSON["num"])
                ]
              ).toFixed(2)
            : 0
        }`}</div>
      </div>
      <div className='flex justify-center items-center w-[50px] h-[50px] bg-[#5c59bf] rounded-md'>
        <img
          src={`https://raw.githubusercontent.com/Mar-7th/StarRailRes/refs/heads/master/${relicsetJSON["icon"]}`}
          width={64}
          height={64}
          alt='Relic Set Icon'
          className='w-[42px] aspect-square'
        />
      </div>
      <div className='w-fit h-[42px] bg-[#3d3b8a] flex items-center rounded-lg'>
        <div className='text-[14px] font-extrabold text-w1 bg-[#020071c2] rounded-lg px-1 h-full leading-[42px]'>
          {relicsetJSON["num"]}p
        </div>
      </div>
      <div className='text-[13px] font-bold text-w1 w-[300px] bg-[#3d3b8a] rounded-lg px-4 h-[50px] flex items-center'>
        <div className='w-fit h-fit'>
          {relicsetJSON["name"].length > 42
            ? `${relicsetJSON["name"].substring(0, 42)}...`
            : relicsetJSON["name"]}
        </div>
      </div>

      {/* <div className='text-lg font-extrabold pt-3 text-w1'>{`${relicsetJSON["name"]} ${relicsetJSON["num"]}pc`}</div> */}
      {/* <div className='text-xs -translate-y-1 text-w2 h-[30px] overflow-y-auto overflow-x-hidden'>{`${relicsetJSON["desc"]}`}</div> */}
    </div>
  );
}
